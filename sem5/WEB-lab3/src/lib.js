"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pug_attr(e,o,t,a){if(!1===o||null==o||!o&&("class"===e||"style"===e))return"";if(!0===o)return" "+(a?e:e+'="'+e+'"');a=_typeof(o);return"object"!==a&&"function"!==a||"function"!=typeof o.toJSON||(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),t||-1===o.indexOf('"'))?(t&&(o=pug_escape(o))," "+e+'="'+o+'"'):" "+e+"='"+o.replace(/'/g,"&#39;")+"'"}function pug_classes(e,o){return Array.isArray(e)?pug_classes_array(e,o):e&&"object"==_typeof(e)?pug_classes_object(e):e||""}function pug_classes_array(e,o){for(var t,a="",s="",l=Array.isArray(o),i=0;i<e.length;i++)(t=pug_classes(e[i]))&&(l&&o[i]&&(t=pug_escape(t)),a=a+s+t,s=" ");return a}function pug_classes_object(e){var o,t="",a="";for(o in e)o&&e[o]&&pug_has_own_property.call(e,o)&&(t=t+a+o,a=" ");return t}function pug_escape(e){var o=""+e,t=pug_match_html.exec(o);if(!t)return e;for(var a,s="",l=t.index,i=0;l<o.length;l++){switch(o.charCodeAt(l)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}i!==l&&(s+=o.substring(i,l)),i=l+1,s+=a}return i!==l?s+o.substring(i,l):s}var pug_has_own_property=Object.prototype.hasOwnProperty,pug_match_html=/["&<>]/;function pug_rethrow(e,o,t,a){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&o||a))throw e.message+=" on line "+t,e;try{a=a||require("fs").readFileSync(o,"utf8")}catch(o){pug_rethrow(e,null,t)}var s=a.split("\n"),l=Math.max(t-3,0),i=Math.min(s.length,t+3),r=s.slice(l,i).map(function(e,o){o=o+l+1;return(o==t?"  > ":"    ")+o+"| "+e}).join("\n");throw e.path=o,e.message=(o||"Pug")+":"+t+"\n"+r+"\n\n"+e.message,e}function template(e){var d,p,v,_="";try{var o=e||{};(function(s,e,o,t,a,l,i,r,n,c,u,m){v=1,_+='<html lang="ru">',v=2,_+="<head>",v=3,_+='<meta charset="utf-8"/>',v=4,_+='<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>',v=6,p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/base.pug",_+="<title>",v=v=4,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_+="Библиотека</title>",v=9,_+='<link rel="icon" href="favicon.ico" type="image/x-icon"/>',v=10,_+='<link rel="stylesheet" type="text/css" href="../main.css"/>',v=12,_+='<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>',v=13,_+='<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"><\/script>',v=14,_+='<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"><\/script></head>',v=16,_+='<body id="basic">',v=17;var b="btn shadow-lg btn-sm btn-block ";v=19,_+='<div class="container-fluid high-100-vh">',v=20,p=p=p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/base.pug",v=7,_+='<div class="row high-20vh">',v=8,v=9,p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+='<div class="col-2 v-lite">')+"<button"+pug_attr("class",pug_classes([b+"btn-warning"],[!0]),!1,!1)+' type="button" id="users" onclick="on_users()">',v=9,_+="Пользователи</button>",v=10,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",n&&(v=11,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-warning"],[!0]),!1,!1)+' type="button" id="pull" onclick="on_settings()">',v=11,v=12,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+="Настройки</button>")+"<button"+pug_attr("class",pug_classes([b+"btn-success"],[!0]),!1,!1)+' type="button" id="add" data-toggle="modal" data-target="#book_modal">',v=12,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_+="Добавить</button>",v=1,_+='<div class="modal fade" id="book_modal" tabindex="-1" role="dialog" aria-labelledby="book_modal_title" aria-hidden="true">',v=2,_+='<div class="modal-dialog modal-dialog-centered" role="document">',v=3,_+='<div class="modal-content">',v=4,_+='<div class="modal-header">',_+='<h5 class="modal-title" id="book_modal_title">',v=v=5,_+="Информация о книге</h5>",v=6,_+='<button class="close" data-dismiss="modal" aria-label="Close">',_+='<span aria-hidden="true">',v=v=7,_+="&times;</span></button></div>",v=8,_+='<div class="modal-body">',v=9,_+="<form>",v=10,_+='<div class="form-group">',_+='<label for="book_name">',v=v=11,v=12,_=(_+="Название книги</label>")+'<input class="form-control" type="text" id="book_name" placeholder="Название"'+pug_attr("value",l,!0,!(p=p=p=p=p=p=p=p=p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+"/>",_+='<div class="invalid-feedback">',v=v=13,_+="Название не может быть пустым!</div></div>",v=14,_+='<div class="form-group">',_+='<label for="book_author">',v=v=15,v=16,_=(_+="Автор книги</label>")+'<input class="form-control" type="text" id="book_author" placeholder="Автор"'+pug_attr("value",e,!0,!(p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+"/>",_+='<div class="invalid-feedback">',v=v=17,_+="Имя автора не может быть пустым!</div></div>",v=18,_+='<div class="form-group">',_+='<label for="book_date">',v=v=19,v=20,_=(_+="Дата публикации</label>")+'<input class="form-control" type="date" id="book_date"'+pug_attr("value",r,!0,!(p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+"/>",_+='<div class="invalid-feedback">',v=v=21,_+="Дата публикации не может быть пустой!</div></div>",v=22,_+='<div class="form-group">',_+='<label for="book_description">',v=v=23,_+="Описание книги (не обязательно)</label>",v=v=24,p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug",_=(_+='<textarea class="form-control" id="book_description" rows="3">')+pug_escape(null==(d=a)?"":d)+"</textarea></div>",v=25,_+='<div class="form-group">',_+='<label for="book_cover">',v=v=26,v=27,_=(_+="Обложка книги (не обязательно)</label>")+'<input class="form-control-file" type="file" id="book_cover"'+pug_attr("val",t,!0,!(p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+"/></div>",v=28,_+="<hr/>",v=29,v=30,_=(_+='<div class="form-check">')+'<input class="form-check-input" type="checkbox" id="part_input"'+pug_attr("checked",!!i,!0,!(p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+' onchange="toggle_part()"/>',_+='<label class="form-check-label" for="part_input">',v=v=31,_+="Книга учасивует в торгах</label></div>",v=32,_+='<div id="part_container">',v=33,_+='<div class="form-group">',_+='<label for="min_step">',v=v=34,v=35,_=(_+="Минимальный шаг</label>")+'<input class="form-control" type="number" id="min_step"'+pug_attr("disabled",!i,!0,!(p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+' placeholder="Минимальный шаг"'+pug_attr("value",i?i.min_step:"",!0,!1)+"/>",_+='<div class="invalid-feedback">',v=v=36,_+="Минимальный шаг не может быть пустым!</div></div>",v=37,_+='<div class="form-group">',_+='<label for="max_step">',v=v=38,v=39,_=(_+="Максимальный шаг</label>")+'<input class="form-control" type="number" id="max_step"'+pug_attr("disabled",!i,!0,!(p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+' placeholder="Максимальный шаг"'+pug_attr("value",i?i.max_step:"",!0,!1)+"/>",_+='<div class="invalid-feedback">',v=v=40,_+="Максимальный шаг не может быть пустым!</div></div>",v=41,_+='<div class="form-group">',_+='<label for="start_cost">',v=v=42,v=43,_=(_+="Начальная цена</label>")+'<input class="form-control" type="number" id="start_cost"'+pug_attr("disabled",!i,!0,!(p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+' placeholder="Начальная цена"'+pug_attr("value",i?i.start_cost:"",!0,!1)+"/>",_+='<div class="invalid-feedback">',v=v=44,_+="Начальная цена не может быть пустой!</div></div></div></form></div>",v=45,_+='<div class="modal-footer">',_+='<button class="btn btn-secondary" type="button" data-dismiss="modal">',v=v=46,v=47,_=(_+="Закрыть</button>")+'<button class="btn btn-primary" type="button" id="modal_book_save"'+pug_attr("onclick","on_modal_book_save("+o+")",!0,!(p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug"))+">",v=47,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/book_modal.pug",_+="Сохранить</button></div></div></div></div>"),_+="</div>",v=14,_+='<div class="col-8 my-auto">',_+='<h1 class="text-center" id="lib_logo">',v=v=15,_+="Библиотека</h1></div>",v=16,_+='<div class="col-2 v-lite">',v=v=17,p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+='<h5 class="text-center">')+pug_escape(null==(d=u)?"":d)+"</h5>",v=18,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-primary"],[!0]),!1,!1)+' type="button" id="reader" data-toggle="modal" data-target="#reader_modal">',v=18,v=19,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+="Читатель</button>")+"<button"+pug_attr("class",pug_classes([b+"btn-secondary"],[!0]),!1,!1)+' type="button" id="logout" onclick="on_logout()">',v=19,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_+="Выйти</button>",v=1,_+='<div class="modal fade" id="reader_modal" tabindex="-1" role="dialog" aria-labelledby="user_modal_title" aria-hidden="true">',v=2,_+='<div class="modal-dialog modal-dialog-centered" role="document">',v=3,_+='<div class="modal-content">',v=4,_+='<div class="modal-header">',_+='<h5 class="modal-title" id="user_modal_title">',v=v=5,_+="Информация о читателе</h5>",v=6,_+='<button class="close" data-dismiss="modal" aria-label="Close">',_+='<span aria-hidden="true">',v=v=7,_+="&times;</span></button></div>",v=8,_+='<div class="modal-body">',v=9,_+='<div class="container-fluid">',v=v=10,p=p=p=p=p=p=p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/user_modal.pug",_=(_+='<h5 class="text-center">')+pug_escape(null==(d=u)?"":d)+"</h5>",v=11,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/user_modal.pug",m&&(_+='<h6 class="text-left">',v=v=12,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/user_modal.pug",_+="Участвует в голосовании</h6>"),v=13,_+="<form>",v=14,_+='<div class="form-group form-inline">',_+='<label class="mr-2" for="money_input">',v=v=15,v=16,_=(_+="Деньги</label>")+'<input class="form-control" type="number" id="money_input" placeholder="Деньги" onchange="on_money()"'+pug_attr("value",c,!0,!(p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/user_modal.pug"))+"/></div></form></div></div>",v=19,_+='<div class="modal-footer">',_+='<button class="btn btn-secondary" type="button" data-dismiss="modal">',v=v=20,_+="Закрыть</button>",_+='<button class="btn btn-danger" type="button" id="modal_delete_user" onclick="on_modal_delete_user()">',p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/user_modal.pug",_+="Удалить</button></div></div></div></div></div></div>",v=v=v=21,_+='<div class="row high-75vh overflown-y">',v=22,_+='<div class="col" id="librarian">',v=23,p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",0<s.length?(v=24,_+='<div class="row">',v=25,p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",function(){var e=s;if("number"==typeof e.length)for(var o=0,t=e.length;o<t;o++){var a=e[o];v=26,_+='<div class="col-2 v-lite">',v=27,v=28,p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+='<div class="row justify-content-center">')+'<img class="book-tmb img-thumbnail align-self-center rounded"'+pug_attr("src",a.cover,!0,!1)+"/></div>",v=29,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.part||a.owner?(v=30,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.part&&(v=31,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-warning"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=31,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>"),v=32,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.owner&&(v=33,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-danger"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=33,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>")):(v=35,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-success"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=35,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>"),_+="</div>"}else{t=0;for(o in e){t++;a=e[o];v=26,_+='<div class="col-2 v-lite">',v=27,v=28,p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=(_+='<div class="row justify-content-center">')+'<img class="book-tmb img-thumbnail align-self-center rounded"'+pug_attr("src",a.cover,!0,!1)+"/></div>",v=29,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.part||a.owner?(v=30,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.part&&(v=31,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-warning"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=31,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>"),v=32,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",a.owner&&(v=33,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-danger"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=33,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>")):(v=35,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+"<button"+pug_attr("class",pug_classes([b+"btn-success"],[!0]),!1,!1)+' type="button"'+pug_attr("onclick","on_open("+a.code+")",!0,!1)+">",v=35,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_=_+pug_escape(null==(d=a.name)?"":d)+"</button>"),_+="</div>"}}}.call(this),_+="</div>"):(v=37,_+='<div class="row justify-content-center high-75vh">',_+='<h1 class="text-center align-self-center">',v=v=38,p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_+="Библиотека пока пуста!</h1></div>"),_+="</div></div>",v=39,_+='<div class="row high-5vh h-lite">',v=40,_+="<form>",v=41,v=42,_=(_+='<div class="form-check form-check-inline">')+'<input class="form-check-input" type="radio" name="optradio" id="all"'+pug_attr("checked",!0,!0,!(p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug"))+"/>",_+='<label class="form-check-label" for="all">',v=v=43,_+="Все</label></div>",v=44,_+='<div class="form-check form-check-inline">',v=45,_+='<input class="form-check-input" type="radio" name="optradio" id="on-sale"/>',_+='<label class="form-check-label" for="on-sale">',v=v=46,_+="Продаются</label></div>",v=47,_+='<div class="form-check form-check-inline">',v=48,_+='<input class="form-check-input" type="radio" name="optradio" id="sold"/>',_+='<label class="form-check-label" for="sold">',v=v=49,p=p=p=p=p=p=p=p=p=p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/lib.pug",_+="Куплены</label></div></form></div></div>",v=22,p="/home/milty/Documents/current/sem5/WEB-lab3/views-bravo/base.pug",_+='<script src="main.min.js"><\/script></body></html>'}).call(this,"all_books"in o?o.all_books:"undefined"!=typeof all_books?all_books:void 0,"book_author"in o?o.book_author:"undefined"!=typeof book_author?book_author:void 0,"book_code"in o?o.book_code:"undefined"!=typeof book_code?book_code:void 0,"book_cover"in o?o.book_cover:"undefined"!=typeof book_cover?book_cover:void 0,"book_description"in o?o.book_description:"undefined"!=typeof book_description?book_description:void 0,"book_name"in o?o.book_name:"undefined"!=typeof book_name?book_name:void 0,"book_part"in o?o.book_part:"undefined"!=typeof book_part?book_part:void 0,"book_publication"in o?o.book_publication:"undefined"!=typeof book_publication?book_publication:void 0,"is_admin"in o?o.is_admin:"undefined"!=typeof is_admin?is_admin:void 0,"user_money"in o?o.user_money:"undefined"!=typeof user_money?user_money:void 0,"user_name"in o?o.user_name:"undefined"!=typeof user_name?user_name:void 0,"user_part"in o?o.user_part:"undefined"!=typeof user_part?user_part:void 0)}catch(e){pug_rethrow(e,p,v)}return _}
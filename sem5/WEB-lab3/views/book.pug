extends base

block header
    title= book_name

block scripts
    script(src="pagescripts/book.js")
    script(src="scripts/book_manager.js")
    script(src="scripts/accounter.js")

block content
    div(class="row high-100vh overflown-y")
        div(class="col-3 v-heavy")
            button(type="button" class=button + "btn-secondary" id="back" onclick="on_back()") В библиотеку
            div(class="row justify-content-center")
                img(class="rounded align-self-center book-img" src= book_cover)
            if book_taken
                h5 &#128308; На руках
                p
                    small Будет возвращена #{return_date}
                p
                    small Взял #{holder}
            else
                h5 &#128994; В наличии
            if taken_by_me
                button(type="button" class=button + "btn-warning" id="return" onclick="on_return()") Вернуть
            else if !book_taken
                button(type="button" class=button + "btn-success" id="take" onclick="on_take()") Взять
                if is_admin
                    button(type="button" class=button + "btn-warning" id="edit" data-toggle="modal" data-target="#book_modal") Редактировать
                    include ./book_modal.pug

            if is_admin
                button(type="button" class=button + "btn-danger" id="delete" onclick="on_delete()") Удалить
        div(class="col-9 v-lite")
            div(class="row high-20vh")
                div(class="col-12")
                    h1= book_name
                    h3= book_author
            div(class="row high-70vh")
                div(class="col-12")
                    h6= book_description
            div(class="row high-10vh")
                div(class="col-12")
                    h6 Дата публикации #{(new Date(book_publication)).toLocaleDateString("ru")}
